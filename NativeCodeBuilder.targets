<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>  
        <BuildDependsOn>  
            BuildNativeCode;
            $(BuildDependsOn);  
        </BuildDependsOn>  
    </PropertyGroup>  
    <Target Name="BuildNativeCode">
        <Message Importance="high" Text="Message from MyNuGetCustomTarget. Configuration: $(ProjectDir)" />

        <Exec Condition="'$(OS)' != 'Windows_NT'" command="/bin/bash &quot;$(MSBuildThisFileDirectory)../scripts/linux_pre_build.sh&quot; &quot;$(ProjectDir)&quot; &quot;$(ProjectConfigName)&quot;" />
        <Exec Condition="'$(OS)' == 'Windows_NT'" command="&quot;$(SolutionDir)/scripts/windows_pre_build.bat&quot; &quot;$(ProjectDir)&quot; &quot;$(ConfigurationName)&quot; $(PlatformName)" />
    </Target>
</Project>
